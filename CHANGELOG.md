# 更新日志

## v1.2.0 - 2024年12月 (当前版本)

### 🎉 重大修复和改进

#### 甘特图时间对齐问题完全修复
- ✅ **精确时间对齐**: 甘特图条与时间轴完美对齐，解决时间显示错位问题
- ✅ **视图模式统一**: 日/周/月视图使用统一的时间计算逻辑
- ✅ **边界处理增强**: 正确处理超出项目时间范围的任务和阶段
- ✅ **UI布局优化**: 时间轴头部与甘特图内容区域精确对齐

#### 甘特图时间显示问题修复
- ✅ **结束时间显示**: 修复周五结束时间显示在周四的问题
- ✅ **Excel导出精确化**: 修复Excel中甘特图条开始时间偏移一天的问题
- ✅ **滚动功能增强**: 支持水平滚动查看项目的所有日期
- ✅ **时间边界计算**: 优化时间包含性逻辑，确保准确显示

#### API访问和功能修复
- ✅ **405错误修复**: 解决创建项目时的"Method Not Allowed"错误
- ✅ **角色选择功能**: 修复团队成员职责选择没有选项的问题
- ✅ **API代理配置**: 优化nginx配置，确保前后端通信正常
- ✅ **健康检查系统**: 新增API连接状态实时监控

#### Docker部署优化
- ✅ **ARM64支持**: 完整支持ARM64架构的VPS部署
- ✅ **构建问题修复**: 解决前端Docker构建时vite命令找不到的问题
- ✅ **端口配置统一**: 标准化端口配置(前端:3000, 后端:8080)
- ✅ **资源优化**: 针对不同硬件配置优化资源分配

### 🔧 技术改进

#### 前端优化
- **时间计算精确化**: 重写甘特图时间轴生成和位置计算逻辑
- **CSS布局增强**: 优化容器布局，支持响应式设计和流畅滚动
- **调试信息完善**: 添加详细的时间计算调试信息
- **健康检查集成**: 自动检测API连接状态和功能可用性

#### 后端优化
- **Excel导出精确化**: 修复甘特图条在Excel中的位置计算
- **API路由完善**: 确保所有API端点正确响应
- **错误处理增强**: 改进错误信息和日志记录
- **CORS配置优化**: 完善跨域访问配置

#### 部署和运维
- **多平台支持**: 支持x86_64和ARM64架构
- **一键部署脚本**: 提供自动化部署和配置脚本
- **健康检查**: 容器级别的健康检查和自动重启
- **资源监控**: 优化资源使用和性能监控

### 📊 新增功能

#### 测试和验证
- **测试页面**: 新增 `/test/gantt` 专门用于验证修复效果
- **边界测试数据**: 包含正常和边界情况的完整测试数据
- **实时调试**: 浏览器控制台显示详细的计算过程

#### 文档完善
- **部署指南**: 详细的VPS部署文档和故障排除
- **API文档**: 完整的API接口说明
- **使用手册**: 用户友好的操作指南

### 🐛 已修复的问题

1. **甘特图时间对齐不准确** - 完全修复
2. **结束时间显示错误** - 完全修复  
3. **Excel导出位置偏移** - 完全修复
4. **无法滚动查看日期** - 完全修复
5. **创建项目405错误** - 完全修复
6. **角色选择无选项** - 完全修复
7. **Docker构建失败** - 完全修复
8. **API代理不工作** - 完全修复

### 📋 验证清单

部署后请验证以下功能：
- [ ] 访问前端应用正常加载
- [ ] 创建项目功能正常工作
- [ ] 团队成员角色选择有完整选项
- [ ] 甘特图时间轴对齐准确
- [ ] 周一到周五任务显示5天
- [ ] 可以水平滚动查看所有日期
- [ ] Excel导出甘特图位置准确
- [ ] 测试页面功能正常

---

## v1.1.0 - 2024年11月

### 初始甘特图时间对齐修复
- 基础的时间轴生成逻辑
- 甘特图条位置计算
- CSS布局初步优化

---

## v1.0.0 - 2024年10月

### 项目初始版本
- 基础甘特图功能
- 项目和任务管理
- Excel导出功能
- Docker部署支持